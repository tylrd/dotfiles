# ~/.tmuxinator/ephemeral.yml

<% require 'socket'; host = Socket.gethostname %>
<% if host == 'taylor-home.local' %>
    <% workspace = 'Documents/code' %>
<% elsif host.start_with?('bc-') %>
    <% workspace = 'productivity/eph' %>
<% end %>

name: ephemeral
root: ~/<%= workspace %>
windows:
  - terraform:
      root: ~/<%= workspace %>/platform-terraform-lib
      layout: even-horizontal
      panes:
        - vim
        - terraform:
          - source bin/env
          - clear
  - chef:
      root: ~/<%= workspace %>/platform-chef-repo
      layout: even-horizontal
      panes:
        - vim
        - chef:
          - export CHEF_ENV=$(gcloud config get-value project)
          - clear
  - cookbooks:
      root: ~/<%= workspace %>/platform-cookbooks
      layout: even-horizontal
      panes:
        - vim
        - chef:
          - export CHEF_ENV=$(gcloud config get-value project)
          - clear
  - packer:
      root: ~/<%= workspace %>/platform-packer-lib
      layout: even-horizontal
      panes:
        - vim
        -
